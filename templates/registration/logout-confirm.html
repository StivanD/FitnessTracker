{% extends 'base.html' %}

{% block content %}
    <main class="profile-main">
        <section class="remove-meal-section">
            <div class="container">
                <h2>Are you sure you want to log out?</h2>

                <div class="action-buttons">
                    <a class="btn btn-cancel" onclick="goBack()">Cancel</a>
                    <form id="logout-form" action="{% url 'logout' %}" method="POST">
                        {% csrf_token %}
                        <button type="button" class="btn btn-remove">Log Out</button>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <script>
        // Function to go back to the previous page
        function goBack() {
            window.history.back();
        }

        // Prevent the default form submission when the button is clicked
        document.getElementById('logout-button').addEventListener('click', function() {
            // Optionally, show a confirmation dialog
            if (confirm("Are you sure you want to log out?")) {
                // If the user confirms, submit the form manually
                document.getElementById('logout-form').submit();
            }
        });
    </script>
{% endblock %}
